{
    "className": "org.joget.apps.form.model.Form",
    "elements": [{
        "className": "org.joget.apps.form.model.Section",
        "elements": [{
            "className": "org.joget.apps.form.model.Column",
            "elements": [
                {
                    "className": "org.joget.apps.form.lib.HiddenField",
                    "properties": {
                        "id": "id_processo",
                        "permission_rules": {
                            "178fdc63-b293-18b9-8aa9-e1b40619226d": {},
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {},
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                            "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {},
                            "dcbd9072-5995-d265-ef54-a0241c80d8b8": {}
                        },
                        "useDefaultWhenEmpty": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.DatePicker",
                    "properties": {
                        "allowManual": "true",
                        "currentDateAs": "",
                        "dataFormat": "yyyy-MM-dd",
                        "datePickerType": "",
                        "endDateFieldId": "",
                        "format": "",
                        "id": "data_parametrizacao",
                        "label": "Data da Parametrização",
                        "permission_rules": {
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {
                                "permissionHidden": "true",
                                "readonly": ""
                            },
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                            "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {
                                "permissionHidden": "true",
                                "readonly": ""
                            },
                            "dcbd9072-5995-d265-ef54-a0241c80d8b8": {
                                "permissionHidden": "true",
                                "readonly": ""
                            }
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "startDateFieldId": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": "",
                        "yearRange": "c-10:c+10"
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.DatePicker",
                    "properties": {
                        "allowManual": "true",
                        "currentDateAs": "",
                        "dataFormat": "yyyy-MM-dd",
                        "datePickerType": "",
                        "endDateFieldId": "",
                        "format": "",
                        "id": "data_liquidacao",
                        "label": "Data de Liquidação",
                        "permission_rules": {
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {
                                "permissionHidden": "true",
                                "readonly": ""
                            },
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                            "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {},
                            "dcbd9072-5995-d265-ef54-a0241c80d8b8": {
                                "permissionHidden": "true",
                                "readonly": ""
                            }
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "startDateFieldId": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": "",
                        "yearRange": "c-10:c+10"
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.DatePicker",
                    "properties": {
                        "allowManual": "true",
                        "currentDateAs": "",
                        "dataFormat": "yyyy-MM-dd",
                        "datePickerType": "",
                        "endDateFieldId": "",
                        "format": "",
                        "id": "reiterar_pedido_agencia",
                        "label": "Reiterar pedido junto da Agência",
                        "permission_rules": {
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {},
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                            "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {},
                            "dcbd9072-5995-d265-ef54-a0241c80d8b8": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "startDateFieldId": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": "",
                        "yearRange": "c-10:c+10"
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.DatePicker",
                    "properties": {
                        "allowManual": "true",
                        "currentDateAs": "",
                        "dataFormat": "yyyy-MM-dd",
                        "datePickerType": "",
                        "endDateFieldId": "",
                        "format": "",
                        "id": "obter_certidao_predial",
                        "label": "Obter Certidão Predial",
                        "permission_rules": {
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {
                                "permissionHidden": "true",
                                "readonly": ""
                            },
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                            "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {
                                "permissionHidden": "true",
                                "readonly": ""
                            },
                            "dcbd9072-5995-d265-ef54-a0241c80d8b8": {
                                "permissionHidden": "true",
                                "readonly": ""
                            }
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "startDateFieldId": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": "",
                        "yearRange": "c-10:c+10"
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.Radio",
                    "properties": {
                        "controlField": "",
                        "id": "obter_certidao_predial_opcoes",
                        "label": "",
                        "options": [
                            {
                                "grouping": "",
                                "label": "Plataforma Legal",
                                "value": "PL"
                            },
                            {
                                "grouping": "",
                                "label": "Banco",
                                "value": "BNC"
                            }
                        ],
                        "optionsBinder": {
                            "className": "",
                            "properties": {}
                        },
                        "permission_rules": {
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {},
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                            "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {},
                            "dcbd9072-5995-d265-ef54-a0241c80d8b8": {}
                        },
                        "readonly": "",
                        "readonlyLabel": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.DatePicker",
                    "properties": {
                        "allowManual": "true",
                        "currentDateAs": "",
                        "dataFormat": "yyyy-MM-dd",
                        "datePickerType": "",
                        "endDateFieldId": "",
                        "format": "",
                        "id": "data_limite",
                        "label": "Data limite para emissão de Distrate",
                        "permission_rules": {
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {},
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                            "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {},
                            "dcbd9072-5995-d265-ef54-a0241c80d8b8": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "startDateFieldId": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": "",
                        "yearRange": "c-10:c+10"
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.CustomHTML",
                    "properties": {
                        "autoPopulate": "",
                        "id": "datasAutomatizadas",
                        "label": "",
                        "permission_rules": {
                            "515f6900-9e90-0f82-7f73-83169ca25e3c": {},
                            "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                            "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {}
                        },
                        "value": "<script>\n    $(document).ready(function(){\n        var banco = \"#form.detalhe_proce_dist.nome_banco[{form.processos_distrates.detalhe_processo}]#\"; \n        console.log(banco);\n        //Calcular as datas de pedido_agencia, data_limite e obter certidao predial\n        $(\"input[id*=data_liquidacao]\").change(function(){\n                var dataLiquidacao = $(\"input[id*=data_liquidacao]\").datepicker('getDate');\n                if(dataLiquidacao != null){\n                    if(banco === \"BIC\"){\n                        //3 dias uteis\n                        for(var i=0; i < 3; i++){\n                          dataLiquidacao.setDate(dataLiquidacao.getDate() + 1);\n                          var weekday = dataLiquidacao.getDay();\n                          while(weekday == 0 || weekday == 6){\n                            dataLiquidacao.setDate(dataLiquidacao.getDate() + 1);\n                            weekday = dataLiquidacao.getDay(); \n                          }\n                        }\n                        var day = dataLiquidacao.getDate();\n                        var month = dataLiquidacao.getMonth() + 1; //Javascript months start at 0\n                        if(day<10){\n                            day=\"0\" + day;\n                        }\n                        if(month<10){\n                            month = \"0\" + month;\n                        }\n                        var validade = day + \"/\" + month + \"/\" + dataLiquidacao.getFullYear();\n\n                        $(\"input[id*=reiterar_pedido_agencia]\").datepicker('setDate', validade);\n                        \n                        var dataReiterarPedido = $(\"input[id*=reiterar_pedido_agencia]\").datepicker('getDate'); \n                        \n                        //10 dias uteis\n                        for(var i=0; i < 7; i++){\n                          dataLiquidacao.setDate(dataLiquidacao.getDate() + 1);\n                          var weekday = dataLiquidacao.getDay();\n                          while(weekday == 0 || weekday == 6){\n                            dataLiquidacao.setDate(dataLiquidacao.getDate() + 1);\n                            weekday = dataLiquidacao.getDay(); \n                          }\n                        }\n                        day = dataLiquidacao.getDate();\n                        month = dataLiquidacao.getMonth() + 1;\n                        if(day<10){\n                            day=\"0\" + day;\n                        }\n                        if(month<10){\n                            month = \"0\" + month;\n                        }\n                        validade =  day + \"/\" + month + \"/\" + dataLiquidacao.getFullYear();\n                         $(\"input[id*=data_limite]\").datepicker('setDate', validade);\n                         //2 dias uteis\n                         for(var i=0; i < 2; i++){\n                          dataReiterarPedido.setDate(dataReiterarPedido.getDate() + 1);\n                          var weekday = dataReiterarPedido.getDay();\n                          while(weekday == 0 || weekday == 6){\n                            dataReiterarPedido.setDate(dataReiterarPedido.getDate() + 1);\n                            weekday = dataReiterarPedido.getDay(); \n                          }\n                        }\n                        \n                        day = dataReiterarPedido.getDate();\n                        month = dataReiterarPedido.getMonth() + 1;\n                        if(day<10){\n                            day=\"0\" + day;\n                        }\n                        if(month<10){\n                            month = \"0\" + month;\n                        }\n                        validade =  day + \"/\" + month + \"/\" + dataReiterarPedido.getFullYear();\n                        $(\"input[id*=obter_certidao_predial]\").datepicker('setDate', validade);\n                         \n                                \n                    }\n                    \n                } else {\n                       $(\"input[id*=reiterar_pedido_agencia]\").val('');\n                       $(\"input[id*=data_limite]\").val(''); \n                       $(\"input[id*=obter_certidao_predial]\").val('');\n                }\n        \n        });\n        \n        \n        \n    });\n    \n <\/script>\n\n        "
                    }
                }
            ],
            "properties": {"width": "100%"}
        }],
        "properties": {
            "comment": "",
            "id": "section1",
            "join": "",
            "label": "Informação Geral",
            "loadBinder": {
                "className": "",
                "properties": {}
            },
            "permission": {
                "className": "",
                "properties": {}
            },
            "permissionReadonly": "",
            "permission_rules": {
                "515f6900-9e90-0f82-7f73-83169ca25e3c": {},
                "8520c5b5-ef0d-3991-1a78-ce897d51e351": {},
                "90085c96-d6e4-c5b5-f473-17f2b1f6096e": {},
                "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead": {},
                "dcbd9072-5995-d265-ef54-a0241c80d8b8": {}
            },
            "readonly": "",
            "readonlyLabel": "",
            "regex": "",
            "reverse": "",
            "storeBinder": {
                "className": "",
                "properties": {}
            },
            "visibilityControl": "",
            "visibilityValue": ""
        }
    }],
    "properties": {
        "description": "",
        "id": "parametrizacaoDistrates",
        "loadBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "name": "Distrates  - Parametrização",
        "noPermissionMessage": "",
        "permission": {
            "className": "",
            "properties": {}
        },
        "permission_rules": [
            {
                "permission": {
                    "className": "",
                    "properties": []
                },
                "permission_key": "8520c5b5-ef0d-3991-1a78-ce897d51e351",
                "permission_name": "Unnamed"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_DIST_BCP",
                        "orgId": "PL"
                    }
                },
                "permission_key": "515f6900-9e90-0f82-7f73-83169ca25e3c",
                "permission_name": "DIstrates BCP"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_DIST_ABN",
                        "orgId": "PL"
                    }
                },
                "permission_key": "a117c3cc-b0cf-03af-3da4-4e2f6d8a5ead",
                "permission_name": "Distrates ABN"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_DIST_MTG",
                        "orgId": "PL"
                    }
                },
                "permission_key": "dcbd9072-5995-d265-ef54-a0241c80d8b8",
                "permission_name": "Distrates MTG"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_DIST_BIC",
                        "orgId": "PL"
                    }
                },
                "permission_key": "90085c96-d6e4-c5b5-f473-17f2b1f6096e",
                "permission_name": "Distrates BIC"
            }
        ],
        "postProcessor": {
            "className": "",
            "properties": {}
        },
        "postProcessorRunOn": "create",
        "storeBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "tableName": "parametrizacao_dist"
    }
}