{
    "className": "org.joget.apps.form.model.Form",
    "elements": [
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "id_processo",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "n_processo",
                            "label": "Número do Processo",
                            "maxlength": "",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "banco_fundo",
                            "label": "Banco/Fundo",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'nome_banco' AND e.customProperties.servico LIKE '%PROCU%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "true",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "dateTime",
                            "endDateFieldId": "",
                            "format": "dd/mm/yy",
                            "format24hr": "true",
                            "id": "data_primeira_entrada",
                            "label": "Data de Primeira Entrada",
                            "permissionHidden": "",
                            "permission_rules": {
                                "04d94e96-37aa-1e4b-d5fe-5595f325e232": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "1fb8f1eb-7717-2af5-ccf1-03a73c560f16": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "966fc1ca-d0b8-439f-6ab3-76cf9a599c75": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d07f81ea-a80c-4560-01fd-7772c1762b0f": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d6fe0da9-3aa3-9d28-ded2-07a6fb980292": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "e94738b9-1966-5300-3072-703d03acb3df": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "f6d47cc6-84dc-c359-9ec5-794a6dcbf118": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                }
                            },
                            "placeholder": "",
                            "readonly": "true",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "true",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "dateTime",
                            "endDateFieldId": "",
                            "format": "dd/mm/yy",
                            "format24hr": "true",
                            "id": "data_entrada",
                            "label": "Data de Última Entrada",
                            "permission_rules": {
                                "04d94e96-37aa-1e4b-d5fe-5595f325e232": {},
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "1fb8f1eb-7717-2af5-ccf1-03a73c560f16": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "966fc1ca-d0b8-439f-6ab3-76cf9a599c75": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "d07f81ea-a80c-4560-01fd-7772c1762b0f": {},
                                "d6fe0da9-3aa3-9d28-ded2-07a6fb980292": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {},
                                "f6d47cc6-84dc-c359-9ec5-794a6dcbf118": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] fileUploadValues){\r\n    \r\n    //Get value from workflow variable\r\n    String flagvalidate = \"#variable.flag_ultima_atividade#\";\r\n    \r\n    boolean result = true;\r\n    \r\n    //Only validate if it is the last activity of the subflow\r\n    if(flagvalidate.equals(\"1\")){\r\n        \r\n        //Configure field to validate - UPDATE HERE\r\n        String fieldId = \"data_entrada\";\r\n        \r\n        //Get element value\r\n        Form form = FormUtil.findRootForm(element);\r\n        Element field = FormUtil.findElement(fieldId, form, formData);\r\n        String fieldValue = FormUtil.getElementPropertyValue(field, formData);\r\n        \r\n        //If element is not filled give error message\r\n        if (fieldValue == null || fieldValue.equals(\"\")){\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Campo obrigatório\");\r\n            result = false;\r\n        }else{\r\n            result = true;\r\n        }\r\n    }else{\r\n        result = true;\r\n    }\r\n\r\n    return result;\r\n\r\n}\r\n\r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                                }
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "",
                            "datePickerType": "dateTime",
                            "endDateFieldId": "",
                            "format": "",
                            "format24hr": "true",
                            "id": "dateCreated",
                            "label": "Data de Criação",
                            "permissionHidden": "",
                            "permission_rules": {
                                "04d94e96-37aa-1e4b-d5fe-5595f325e232": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "1fb8f1eb-7717-2af5-ccf1-03a73c560f16": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "966fc1ca-d0b8-439f-6ab3-76cf9a599c75": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d07f81ea-a80c-4560-01fd-7772c1762b0f": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d6fe0da9-3aa3-9d28-ded2-07a6fb980292": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "e94738b9-1966-5300-3072-703d03acb3df": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "f6d47cc6-84dc-c359-9ec5-794a6dcbf118": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                }
                            },
                            "placeholder": "",
                            "readonly": "true",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "",
                            "endDateFieldId": "",
                            "format": "",
                            "id": "data_rececao_originais",
                            "label": "Data de Receção Originais",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "banco_fundo",
                            "id": "tipo_processo",
                            "label": "Tipo de processo",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.BeanShellFormBinder",
                                "properties": {
                                    "cacheInterval": "",
                                    "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.commons.util.LogUtil;\r\n\r\n \r\npublic FormRowSet load(String[] values) {\r\n\r\n    FormRowSet rows = new FormRowSet();\r\n    \r\n    FormRow option = new FormRow();\r\n    option.setProperty(FormUtil.PROPERTY_VALUE, \"\");\r\n    option.setProperty(FormUtil.PROPERTY_LABEL, \"\");\r\n    rows.add(option);\r\n    \r\n    String banco = null;\r\n    if (values != null && values.length > 0) {\r\n        banco = \"%\" + values[0] + \"%\";\r\n    \r\n        Connection con = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet rs = null;\r\n        String origem_value = \"\";\r\n        String origem_label = \"\";\r\n        \r\n        AppDefinition appDef = AppUtil.getCurrentAppDefinition();\r\n        \r\n        try{\r\n                DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\"setupDataSource\");\r\n                con = ds.getConnection();\r\n                \r\n                \r\n                if(!con.isClosed()){\r\n                    \r\n                    String query=\"SELECT c_value, c_label FROM app_fd_listas_de_valores WHERE c_nome_campo = ? AND c_banco LIKE ? AND c_servico LIKE '%PROCU%';\";\r\n                    stmt = con.prepareStatement(query);\r\n                    stmt.setObject(1, \"tipo_processo\");\r\n                    stmt.setObject(2, banco);\r\n                    rs = stmt.executeQuery();\r\n                    \r\n                    while(rs.next()){\r\n                        origem_value = rs.getString(1);\r\n                        origem_label = rs.getString(2);\r\n                        \r\n                        FormRow option = new FormRow();\r\n                        option.setProperty(FormUtil.PROPERTY_VALUE, origem_value);\r\n                        option.setProperty(FormUtil.PROPERTY_LABEL, origem_label);\r\n                        \r\n                        rows.add(option);\r\n                        \r\n                    }\r\n                }\r\n                \r\n        }catch(Exception e){\r\n            LogUtil.error(\"Importa processo - origem de processo\", e, \"Error getting info from DB\");\r\n        }finally{\r\n            try{\r\n                if(rs != null){\r\n                rs.close();\r\n                }\r\n                if(stmt != null){\r\n                    stmt.close();\r\n                }\r\n                if(con != null && !con.isClosed()) {\r\n                    con.close();\r\n                }\r\n            }catch(Exception e){\r\n                LogUtil.error(\"Importa processo - origem de processo\", e, \"Error closing DB connection\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    return rows;\r\n}\r\n \r\n//call load method with injected variable\r\nreturn load(values);",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "banco_fundo",
                            "id": "sociedade_representada",
                            "label": "Sociedade Representada",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.BeanShellFormBinder",
                                "properties": {
                                    "cacheInterval": "",
                                    "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.commons.util.LogUtil;\r\n\r\n \r\npublic FormRowSet load(String[] values) {\r\n\r\n    \r\n    FormRowSet rows = new FormRowSet();\r\n    \r\n    FormRow option = new FormRow();\r\n    option.setProperty(FormUtil.PROPERTY_VALUE, \"\");\r\n    option.setProperty(FormUtil.PROPERTY_LABEL, \"\");\r\n    rows.add(option);\r\n    \r\n    String banco = null;\r\n    if (values != null && values.length > 0) {\r\n        banco = \"%\" + values[0] + \"%\";\r\n    \r\n        Connection con = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet rs = null;\r\n        String origem_value = \"\";\r\n        String origem_label = \"\";\r\n        \r\n        AppDefinition appDef = AppUtil.getCurrentAppDefinition();\r\n        \r\n        try{\r\n                DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\"setupDataSource\");\r\n                con = ds.getConnection();\r\n                \r\n                \r\n                if(!con.isClosed()){\r\n                    String idDetalhe_processo = \"#form.processos.detalhe_processo#\";\r\n                    //Verificar o utilizador atribuido e atualizar caso esteja errado\r\n                    String query=\"SELECT c_value, c_label FROM app_fd_listas_de_valores WHERE c_nome_campo = ? AND c_banco LIKE ? AND c_servico LIKE '%PROCU%';\";\r\n                    stmt = con.prepareStatement(query);\r\n                    stmt.setObject(1, \"sociedade_representada\");\r\n                    stmt.setObject(2, banco);\r\n                    rs = stmt.executeQuery();\r\n                    \r\n                    while(rs.next()){\r\n                        origem_value = rs.getString(1);\r\n                        origem_label = rs.getString(2);\r\n                        \r\n                        FormRow option = new FormRow();\r\n                        option.setProperty(FormUtil.PROPERTY_VALUE, origem_value);\r\n                        option.setProperty(FormUtil.PROPERTY_LABEL, origem_label);\r\n                        \r\n                        rows.add(option);\r\n                        \r\n                    }\r\n                }\r\n                \r\n        }catch(Exception e){\r\n            LogUtil.error(\"Importa processo - origem de processo\", e, \"Error getting info from DB\");\r\n        }finally{\r\n            try{\r\n                if(rs != null){\r\n                rs.close();\r\n                }\r\n                if(stmt != null){\r\n                    stmt.close();\r\n                }\r\n                if(con != null && !con.isClosed()) {\r\n                    con.close();\r\n                }\r\n            }catch(Exception e){\r\n                LogUtil.error(\"Importa processo - origem de processo\", e, \"Error closing DB connection\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    return rows;\r\n}\r\n \r\n//call load method with injected variable\r\nreturn load(values);",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "localizacao_imovel",
                            "label": "Localização do Imóvel",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'local_imovel' AND e.customProperties.servico LIKE '%PROCU%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permissionHidden": "true",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "e94738b9-1966-5300-3072-703d03acb3df": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                }
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "estado",
                            "label": "Estado",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'estado_processo' AND e.customProperties.servico LIKE '%PROCU%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "originais",
                            "label": "Tem Originais?",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Nao",
                                    "value": "NAO"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "local_envio_originais",
                            "label": "Local de Envio dos Originais",
                            "maxlength": "",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "registoCTT",
                            "label": "Registo CTT",
                            "maxlength": "",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "deposito",
                            "label": "Depósito",
                            "maxlength": "",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "",
                            "endDateFieldId": "",
                            "format": "",
                            "id": "data_conclusao",
                            "label": "Data de Conclusão",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextArea",
                        "properties": {
                            "cols": "20",
                            "id": "observacoes",
                            "label": "Observações",
                            "permission_rules": {
                                "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                                "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                                "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                                "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                                "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                                "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                                "e94738b9-1966-5300-3072-703d03acb3df": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "rows": "5",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section1",
                "join": "",
                "label": "Informação Geral",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "1804038d-e85d-3ea4-4ef3-4c4143e5145b": {},
                    "40b85e69-a77b-cdfa-05ef-6bd9811e4410": {},
                    "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed": {},
                    "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54": {},
                    "504595d7-fa4b-d219-d8a6-65d1a4da0728": {},
                    "dccd1818-864d-54e3-09c2-6e246cfcf5fe": {},
                    "e94738b9-1966-5300-3072-703d03acb3df": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "conta",
                            "label": "Conta",
                            "maxlength": "",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "valor_liquidacao_receber",
                            "label": "Valor de Liquidação / a receber",
                            "maxlength": "",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "centro_custo_balcao",
                            "label": "Centro de Custo Balcão",
                            "maxlength": "",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "codigo_certidao_predial",
                            "label": "Código de Certidão Perdial",
                            "maxlength": "",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "",
                            "endDateFieldId": "",
                            "format": "",
                            "id": "validade_certidao",
                            "label": "Validade da Certidão",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field20",
                            "label": "",
                            "value": "<script type=\"text/javascript\">\r\n\r\n    $(document).ready(function(){\r\n\r\n        var f1 = FormUtil.getField(\"valor_liquidacao_receber\");\r\n        var number = FormUtil.getValue(\"valor_liquidacao_receber\");\r\n        \r\n        console.log(number);\r\n        if(number != null && number !== \"\"){\r\n            number = number.replaceAll('NaN', \"0\");\r\n            number = number.replaceAll('.', \"\");\r\n            number = number.replaceAll('\u20ac', \"\");\r\n            number = number.replaceAll('Eur', \"\");\r\n            number = number.replaceAll('EUR', \"\");\r\n            number = number.replaceAll(',', '.');\r\n            \r\n            let num = new Intl.NumberFormat('pt-PT', { style: 'currency', currency: 'EUR' }).format(number);\r\n        \r\n            num = num.replace(/\\s/g, '.');\r\n            num = num.replaceAll('.\u20ac', ' EUR');\r\n            \r\n            $(f1).val(num);\r\n        }else{\r\n            //do nothing\r\n        }\r\n    });\r\n<\/script> "
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section2",
                "join": "",
                "label": "(Nome secção)",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        }
    ],
    "properties": {
        "description": "",
        "id": "detalheProcessoProcuradoria",
        "loadBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "name": "Procuradoria - Detalhe Processo",
        "noPermissionMessage": "",
        "permission": {
            "className": "",
            "properties": {}
        },
        "permission_rules": [
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco_fundo = \"#form.detalhe_proce_procu.banco_fundo[{form.processos_procu.detalhe_processo}]#\";\nif(banco_fundo.equals(\"MTG\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "dccd1818-864d-54e3-09c2-6e246cfcf5fe",
                "permission_name": "MTG"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco_fundo = \"#form.detalhe_proce_procu.banco_fundo[{form.processos_procu.detalhe_processo}]#\";\nif(banco_fundo.equals(\"BIC\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "e94738b9-1966-5300-3072-703d03acb3df",
                "permission_name": "BIC"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco_fundo = \"#form.detalhe_proce_procu.banco_fundo[{form.processos_procu.detalhe_processo}]#\";\nif(banco_fundo.equals(\"BNI\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "47d9dac4-bb53-53f7-2c45-a2b2e20e7f54",
                "permission_name": "BNI"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco_fundo = \"#form.detalhe_proce_procu.banco_fundo[{form.processos_procu.detalhe_processo}]#\";\nif(banco_fundo.equals(\"BCP\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "40b85e69-a77b-cdfa-05ef-6bd9811e4410",
                "permission_name": "BCP"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco_fundo = \"#form.detalhe_proce_procu.banco_fundo[{form.processos_procu.detalhe_processo}]#\";\nif(banco_fundo.equals(\"HPG\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "467e0936-e8fb-e23b-f48d-e5c28c5ab7ed",
                "permission_name": "Hipoges"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco_fundo = \"#form.detalhe_proce_procu.banco_fundo[{form.processos_procu.detalhe_processo}]#\";\nif(banco_fundo.equals(\"NOR\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "504595d7-fa4b-d219-d8a6-65d1a4da0728",
                "permission_name": "Norfin"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco_fundo = \"#form.detalhe_proce_procu.banco_fundo[{form.processos_procu.detalhe_processo}]#\";\nif(banco_fundo.equals(\"WHS\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "1804038d-e85d-3ea4-4ef3-4c4143e5145b",
                "permission_name": "Whitestar"
            }
        ],
        "postProcessor": {
            "className": "",
            "properties": {}
        },
        "postProcessorRunOn": "create",
        "storeBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "tableName": "detalhe_proce_procu"
    }
}