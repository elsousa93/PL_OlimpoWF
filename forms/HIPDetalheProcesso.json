{
    "className": "org.joget.apps.form.model.Form",
    "elements": [
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "configura_flag_validacao",
                            "label": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "value": "<script>\n     \n     $(window).load(function(){\n\n         var flag_validacao = '#variable.flag_validacao#';\n         \n        if(flag_validacao === '1' || flag_validacao.startsWith(\"#variable.flag_validacao\")){\n            $(\"form#processo :input\").change(function(){\n                $(\"input#flag_alteracoes\").attr(\"value\",\"SIM\");    \n            });\n        }\n    });\n    \n    \n    \n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field34",
                            "label": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "value": "<div class=\"col text-start\">\r\n    <span class=\"material-symbols-rounded md-40\"> info <\/span> \r\n\t<div class = \"subform-section-title\">\r\n\t\t<span>INFORMAÇÃO GERAL<\/span>\r\n\t<\/div> \r\n<\/div>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "user_alerta",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "data_alerta",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "id_processo",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "n_wf_joget",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "nome_banco",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "#form.banco_hip.nome_banco[{form.processos_hip.banco}]#",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "n_wf_pl",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "atualizar_envio_processo",
                            "permission_rules": {
                                "0d7e4d1f-cd72-0522-8336-34124a217002": {},
                                "435fad6b-d318-04ad-4d78-95912977f590": {},
                                "48b48ad7-5499-aa5d-69b5-3f6bc87b7133": {},
                                "838ffac8-681d-e9c7-87d9-66be9f1d0443": {},
                                "94c61551-208b-5093-fbad-41d5f6b323c0": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "de0223e9-d62d-f5f5-f75a-4f6199b32f73": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CheckBox",
                        "properties": {
                            "controlField": "",
                            "id": "antigo_circuito",
                            "label": "Antigo Circuito",
                            "options": [{
                                "grouping": "",
                                "label": "Sim",
                                "value": "SIM"
                            }],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "n_wf_pl_relacionado",
                            "label": "Número Processo PL Relacionado",
                            "maxlength": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "",
                                    "message": "",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "n_wf_banco",
                            "label": "Número Workflow Banco",
                            "maxlength": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] fileUploadValues){\r\n    \r\n    //Get value from workflow variable\r\n    String flagvalidate = \"#variable.flag_ultima_atividade#\";\r\n    \r\n    boolean result = true;\r\n    \r\n    //Only validate if it is the last activity of the subflow\r\n    if(flagvalidate.equals(\"1\")){\r\n        \r\n        //Configure field to validate - UPDATE HERE\r\n        String fieldId = \"n_wf_banco\";\r\n        \r\n        //Get element value\r\n        Form form = FormUtil.findRootForm(element);\r\n        Element field = FormUtil.findElement(fieldId, form, formData);\r\n        String fieldValue = FormUtil.getElementPropertyValue(field, formData);\r\n        \r\n        //If element is not filled give error message\r\n        if (fieldValue == null || fieldValue.equals(\"\")){\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Campo obrigatório\");\r\n            result = false;\r\n        }else{\r\n            result = true;\r\n        }\r\n    }else{\r\n        result = true;\r\n    }\r\n\r\n    return result;\r\n\r\n}\r\n\r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "numero_agenda",
                            "label": "Número Agenda",
                            "maxlength": "",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "logica_numero_agenda",
                            "label": "",
                            "value": "<script>\n    $(document).change(function() {\n         var numero_agenda_final = '';\n         var banco = \"#form.banco_hip.nome_banco[{form.processos_hip.banco}]#\";\n         var servico = \"#form.processos_hip.servico#\";\n         var n_wf_banco = $(\"input[id*=n_wf_banco]\").val();\n         var tipo_processo_lea = $(\"select[id*=tipo_processo_lea]\").val();\n         if(servico === \"LEA\"){\n            if(banco === \"BST\"){\n                numero_agenda_final = \"BST\" + n_wf_banco;\n            }\n            if(banco === \"MTG\"){\n                if(tipo_processo_lea === \"LOC\"){\n                    numero_agenda_final = \"MGLOC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"DL\"){\n                    numero_agenda_final = \" MGDL\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"AOPC\"){\n                    numero_agenda_final = \"MGAOPC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"OPC\"){\n                    numero_agenda_final = \" MGOPC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LC\"){\n                     numero_agenda_final = \"MGLC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LAS\"){\n                    numero_agenda_final = \"MGLAS\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LAC\"){\n                    numero_agenda_final = \"MGLAC\" + n_wf_banco;\n                }\n            }\n            if(banco === \"BCP\"){\n                if(tipo_processo_lea === \"AOPC\"){\n                    numero_agenda_final = \"AOPC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"OPC\"){\n                    numero_agenda_final = \"OPC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"DL\"){\n                    numero_agenda_final = \"DL\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LAS\"){\n                    numero_agenda_final = \"LAS\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LAC\"){\n                    numero_agenda_final = \"LAC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LC\"){\n                    numero_agenda_final = \"LC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LCLAC\"){\n                    numero_agenda_final = \"LCLAC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LCLAS\"){\n                    numero_agenda_final = \"LCLAS\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LOC\"){\n                    numero_agenda_final = \"LOC\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LOCRsd\"){\n                    numero_agenda_final = \"LOCRsd\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LOCRpd\"){\n                    numero_agenda_final = \"LOCRpd\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LOCRs\"){\n                    numero_agenda_final = \"LOCRs\" + n_wf_banco;\n                }else if(tipo_processo_lea === \"LOCRp\"){\n                    numero_agenda_final = \"LOCRp\" + n_wf_banco;\n                }\n            }\n            if(banco === \"BIC\"){\n                if(tipo_processo_lea === \"LOC\"){\n                   numero_agenda_final = \"BICLOC\" + n_wf_banco; \n                }else if(tipo_processo_lea === \"DL\"){\n                    numero_agenda_final = \"BICDL\" + n_wf_banco;  \n                }else if(tipo_processo_lea === \"AOPC\"){\n                    numero_agenda_final = \"  BICAOPC\" + n_wf_banco;   \n                }else if(tipo_processo_lea === \"OPC\"){\n                    numero_agenda_final = \"BICOPC\" + n_wf_banco;   \n                }else if(tipo_processo_lea === \"LC\"){\n                    numero_agenda_final = \"BICLC\" + n_wf_banco;  \n                }else if(tipo_processo_lea === \"LAS\"){\n                    numero_agenda_final = \"BICLAS\" + n_wf_banco; \n                }else if(tipo_processo_lea === \"LAC\"){\n                     numero_agenda_final = \"BICLAC\" + n_wf_banco;\n                }\n           \n            }\n                 \n        }\n        if(servico === \"HIP\"){\n            if(banco === \"NVB\"){\n                numero_agenda_final = \"NBHIP\" + n_wf_banco;\n            }\n            if(banco === \"MTG\"){\n                numero_agenda_final = \"MGHIP\" + n_wf_banco;\n            }\n            if(banco === \"BCP\"){\n                numero_agenda_final = \"HIP\" + n_wf_banco;\n            }\n            if(banco === \"ABN\"){\n                numero_agenda_final = \"ABHIP\" + n_wf_banco;\n            }\n            if(banco === \"BST\"){\n                numero_agenda_final = \"BST\" + n_wf_banco;\n            }\n            if(banco === \"BIC\"){\n                if($(\"input[id*=tipo_processo_final]\").val().includes(\"CV\")){\n                    numero_agenda_final = \"BICCVHIP\" + n_wf_banco;\n                    console.log(\"entrou\");\n                }else{\n                    numero_agenda_final = \"BICHIP\" + n_wf_banco;\n                }\n            }\n            \n        }\n    \n    $(\"input[id*=numero_agenda]\").val(numero_agenda_final);\n        \n    });\n<\/script>\n"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "False",
                            "id": "field75",
                            "label": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "urgencia",
                            "label": "Urgência Geral",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permissionHidden": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "true",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "forma_outorga",
                            "label": "Forma de Outorga",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'forma_outorga' AND e.customProperties.servico LIKE '%HIP%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "true",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "motivos_dispensa_PL",
                            "label": "Motivos de dispensa pela PL",
                            "maxlength": "",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "fase_processo",
                            "label": "Fase do Processo",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'fase_processo'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permissionHidden": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                }
                            },
                            "readonly": "true",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "true",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "subfase_processo",
                            "label": "Subfase Processo",
                            "maxlength": "",
                            "permissionHidden": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                }
                            },
                            "placeholder": "",
                            "readonly": "true",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "complex_processo",
                            "label": "Complexidade do Processo",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'complexidade_processo'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "true",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "forma_outorga",
                            "id": "origem_processo",
                            "label": "Origem do Processo",
                            "multiple": "",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "",
                                    "value": ""
                                },
                                {
                                    "grouping": "",
                                    "label": "Parcial",
                                    "value": "PARCIAL"
                                },
                                {
                                    "grouping": "",
                                    "label": "Total",
                                    "value": "TOTAL"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "04d94e96-37aa-1e4b-d5fe-5595f325e232": {},
                                "1c456b84-44fa-3759-6fc2-5e584209abb6": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "1fb8f1eb-7717-2af5-ccf1-03a73c560f16": {},
                                "26400434-6e65-a54c-c9ae-c1ae4296b0cd": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "3b4737b8-9f04-a406-1394-9be597a75957": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "435fad6b-d318-04ad-4d78-95912977f590": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "4686233f-e0df-ed34-d3b2-1005caf9470c": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "48b48ad7-5499-aa5d-69b5-3f6bc87b7133": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "4bd6a8aa-5603-0d51-6888-3adc2bc6cabf": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "5eaec58e-2e36-622b-6e03-4fd4d359d06d": {},
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "838ffac8-681d-e9c7-87d9-66be9f1d0443": {},
                                "94c61551-208b-5093-fbad-41d5f6b323c0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "966fc1ca-d0b8-439f-6ab3-76cf9a599c75": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "a1f6b019-57c1-5d37-ff5e-d49298113548": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "a7689113-02f4-f24c-af6c-a96ca83cf9f2": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d07f81ea-a80c-4560-01fd-7772c1762b0f": {},
                                "d22d0102-1211-614e-fa12-4fc285206772": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d6fe0da9-3aa3-9d28-ded2-07a6fb980292": {},
                                "d998bffe-5e58-69ca-1448-f87f2bc701fa": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "dccbd4e7-4903-3c11-61c4-6a21ddcc309c": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "de0223e9-d62d-f5f5-f75a-4f6199b32f73": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "e3cb2d81-9e35-320f-919f-479474176350": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "e43944ee-a329-cbb2-13bf-98bd5dfc033d": {},
                                "f6d47cc6-84dc-c359-9ec5-794a6dcbf118": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "",
                                    "message": "",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": "origem"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "visibilidadesBancos",
                            "label": "",
                            "value": "<script>\n    $(document).change(function(){\n        atualizarVisibilidadeBCP();\n        atualizarVisibilidadesMTG();\n        atualizarVisibilidadesABN();\n        atualizarVisibilidadesBIC();\n        atualizarVisibilidadesBST();\n        atualizarVisibilidadesNVB();\n        \n    });\n    \n    \n    \n    function atualizarVisibilidadeBCP(){\n        var banco = \"#form.banco_hip.nome_banco[{form.processos_hip.banco}]#\";\n        if(banco==='BCP'){\n           $(\"select[id*=origem_processo]\").parent().hide();\n        }\n    }\n    \n    function atualizarVisibilidadesMTG(){\n        var banco = \"#form.banco_hip.nome_banco[{form.processos_hip.banco}]#\";\n        if(banco==='MTG'){\n           $(\"select[id*=origem_processo]\").parent().hide();\n        }\n    }\n    \n    function atualizarVisibilidadesABN(){\n        var banco = \"#form.banco_hip.nome_banco[{form.processos_hip.banco}]#\";\n        if(banco==='ABN'){\n            $(\"select[id*=origem_processo]\").parent().show();\n        }\n            \n            \n    }\n    \n    function atualizarVisibilidadesBIC(){\n        var banco = \"#form.banco_hip.nome_banco[{form.processos_hip.banco}]#\";\n        if(banco==='BIC'){\n          $(\"select[id*=origem_processo]\").parent().hide();\n         }\n        \n    }\n    \n\n    \n    function atualizarVisibilidadesBST(){\n        var banco = \"#form.banco_hip.nome_banco[{form.processos_hip.banco}]#\";\n        if(banco==='BST'){\n            $(\"select[id*=origem_processo]\").parent().hide();\n          \n        }\n        \n    } \n    function atualizarVisibilidadesNVB(){\n        var banco = \"#form.banco_hip.nome_banco[{form.processos_hip.banco}]#\";\n        if(banco==='NVB'){\n            $(\"select[id*=origem_processo]\").parent().hide();\n        }\n        \n    } \n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "estado_contratacao",
                            "label": "Estado da Contratação",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'estado_contratacao' AND e.customProperties.servico LIKE '%HIP%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "true",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": "estado"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CheckBox",
                        "properties": {
                            "controlField": "",
                            "id": "alerta_gestor",
                            "label": "Alerta para gestor",
                            "options": [{
                                "grouping": "",
                                "label": "Sim",
                                "value": "SIM"
                            }],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "pendente",
                            "label": "Pendente de",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'pendente'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "criado_por",
                            "label": "Processo criado por:",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.plugin.enterprise.UserOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "",
                                    "cacheInterval": "",
                                    "deptId": "",
                                    "emptyLabel": "",
                                    "groupId": "",
                                    "grouping": "",
                                    "optionLabel": "fullname",
                                    "orgId": "PL",
                                    "useAjax": ""
                                }
                            },
                            "permissionHidden": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "true",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "gestor_pl",
                            "label": "Gestor Plataforma Legal Contratação",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.plugin.enterprise.UserOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "deptId": "",
                                    "emptyLabel": "",
                                    "groupId": "",
                                    "grouping": "",
                                    "optionLabel": "",
                                    "orgId": "PL",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.DefaultValidator",
                                "properties": {
                                    "mandatory": "true",
                                    "message": "#i18n.mandatorymsg#",
                                    "type": ""
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "gestor_pl_senior",
                            "label": "Gestor Plataforma Legal (Sénior)",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.plugin.enterprise.UserOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "deptId": "",
                                    "emptyLabel": "",
                                    "groupId": "",
                                    "grouping": "",
                                    "optionLabel": "",
                                    "orgId": "PL",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "dateTime",
                            "endDateFieldId": "",
                            "format": "dd/mm/yy",
                            "format24hr": "true",
                            "id": "data_primeira_entrada",
                            "label": "Data de Primeira Entrada",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                }
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "dateTime",
                            "endDateFieldId": "",
                            "format": "dd/mm/yy",
                            "format24hr": "true",
                            "id": "data_entrada",
                            "label": "Data de Última Entrada",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                }
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] fileUploadValues){\r\n    \r\n    //Get value from workflow variable\r\n    String flagvalidate = \"#variable.flag_ultima_atividade#\";\r\n    \r\n    boolean result = true;\r\n    \r\n    //Only validate if it is the last activity of the subflow\r\n    if(flagvalidate.equals(\"1\")){\r\n        \r\n        //Configure field to validate - UPDATE HERE\r\n        String fieldId = \"data_entrada\";\r\n        \r\n        //Get element value\r\n        Form form = FormUtil.findRootForm(element);\r\n        Element field = FormUtil.findElement(fieldId, form, formData);\r\n        String fieldValue = FormUtil.getElementPropertyValue(field, formData);\r\n        \r\n        //If element is not filled give error message\r\n        if (fieldValue == null || fieldValue.equals(\"\")){\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Campo obrigatório\");\r\n            result = false;\r\n        }else{\r\n            result = true;\r\n        }\r\n    }else{\r\n        result = true;\r\n    }\r\n\r\n    return result;\r\n\r\n}\r\n\r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                                }
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "",
                            "datePickerType": "dateTime",
                            "endDateFieldId": "",
                            "format": "",
                            "format24hr": "true",
                            "id": "dateModified",
                            "label": "Data da Última Alteração",
                            "permissionHidden": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                }
                            },
                            "placeholder": "",
                            "readonly": "true",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "pid",
                            "label": "PID",
                            "maxlength": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "transicao",
                            "label": "Processo transitou por indicação da PL?",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {
                    "customWidth": "100%",
                    "horizontal": "",
                    "label": "",
                    "width": "100%"
                }
            }],
            "properties": {
                "comment": "",
                "id": "section1",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "tipo_processo_robot",
                            "label": "Tipo de Processo Robot",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "(c_nome_campo = 'tipo_processo_robot')  AND e.customProperties.servico LIKE '%HIP%' AND  e.customProperties.banco LIKE '#form.banco_hip.nome_banco[{form.processos_hip.banco}]#'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] fileUploadValues){\r\n    \r\n    //Get value from workflow variable\r\n    //String flagvalidate = \"#variable.flag_ultima_atividade#\";\r\n    String estado_contratacao = \"#form.detalhe_proce_hip.estado_contratacao[{form.processos_hip.detalhe_processo}]#\";\r\n    boolean result = true;\r\n    \r\n    //Only validate if it is the last activity of the subflow\r\n    if(!estado_contratacao.equals(\"CLD\")){\r\n        \r\n        //Configure field to validate - UPDATE HERE\r\n        String fieldId = \"tipo_processo_robot\";\r\n        \r\n        //Get element value\r\n        Form form = FormUtil.findRootForm(element);\r\n        Element field = FormUtil.findElement(fieldId, form, formData);\r\n        String fieldValue = FormUtil.getElementPropertyValue(field, formData);\r\n        \r\n        //If element is not filled give error message\r\n        if (fieldValue == null || fieldValue.equals(\"\")){\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Campo obrigatório\");\r\n            result = false;\r\n        }else{\r\n            result = true;\r\n        }\r\n    }else{\r\n        result = true;\r\n    }\r\n\r\n    return result;\r\n\r\n}\r\n\r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);*"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field72",
                            "label": "",
                            "value": "<script>\n    $(document).change(function(){\n        var forma_outorga = $('select[name*= forma_outorga]').val();\n        if(forma_outorga === 'CAR' || forma_outorga === 'CPR'){\n             $(\"select[id*=tipo_processo_robot] option[value=CPI]\").text(\"CPI\");\n             $(\"select[id*=tipo_processo_robot] option[value=HIPE]\").text(\"Hipoteca Específica\");\n             $(\"select[id*=tipo_processo_robot] option[value=HIPG]\").text(\"Hipoteca Genérica\");\n        }else{\n            $(\"select[id*=tipo_processo_robot] option[value=CPI]\").text(\"DPA CPI\");\n            $(\"select[id*=tipo_processo_robot] option[value=HIPE]\").text(\"DPA Hipoteca Específica\");\n            $(\"select[id*=tipo_processo_robot] option[value=HIPG]\").text(\"DPA Hipoteca Genérica\"); \n        }\n    });\n    \n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "base_processo_1",
                            "label": "Base de processo 1",
                            "multiple": "",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "",
                                    "value": ""
                                },
                                {
                                    "grouping": "",
                                    "label": "Processo",
                                    "value": "PROC"
                                },
                                {
                                    "grouping": "",
                                    "label": "Garantia",
                                    "value": "GRT"
                                },
                                {
                                    "grouping": "",
                                    "label": "Tipo de Financiamento",
                                    "value": "TPFIN"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "base_processo_1",
                            "id": "tipo_processo_1",
                            "label": "Tipo de Processo 1",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "(c_nome_campo = 'tipo_processo' OR c_nome_campo = 'tipo_financiamento'  OR  c_nome_campo = 'garantia') AND e.customProperties.servico LIKE '%HIP%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "grouping",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.plugin.enterprise.MultiSelectBox",
                        "properties": {
                            "controlField": "base_processo_1",
                            "id": "subtipo_processo_1",
                            "label": "Subtipo Processo 1",
                            "multiple": "true",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.BeanShellFormBinder",
                                "properties": {
                                    "cacheInterval": "",
                                    "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.commons.util.LogUtil;\r\nimport java.sql.Array;\r\n\r\n \r\npublic FormRowSet load(String[] values) {\r\n    \r\n    FormRowSet rows = new FormRowSet();\r\n    \r\n    FormRow option = new FormRow();\r\n    option.setProperty(FormUtil.PROPERTY_VALUE, \"\");\r\n    option.setProperty(FormUtil.PROPERTY_LABEL, \"\");\r\n    rows.add(option);\r\n    \r\n    String banco = null;\r\n    if (values != null && values.length > 0) {\r\n        base_processo = values[0];\r\n        //LogUtil.info(\"HIP - subtipo\", \"base: \" + base_processo);\r\n    \r\n        Connection con = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet rs = null;\r\n        String subtipo_value = \"\";\r\n        String subtipo_label = \"\";\r\n        \r\n        AppDefinition appDef = AppUtil.getCurrentAppDefinition();\r\n        \r\n        try{\r\n                DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\"setupDataSource\");\r\n                con = ds.getConnection();\r\n                \r\n                if(!con.isClosed()){\r\n                    //Verificar o utilizador atribuido e atualizar caso esteja errado\r\n                    String query=\"SELECT c_value, c_label FROM app_fd_listas_de_valores WHERE c_nome_campo LIKE ?\";\r\n                    stmt = con.prepareStatement(query);\r\n                    \r\n                    StringBuilder parameterBuilder = new StringBuilder();\r\n                    \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        parameterBuilder.append(\" OR c_nome_campo LIKE ?\");\r\n                    }\r\n                \r\n                    //Here you can query from one or multiple tables using JOIN etc\r\n                    PreparedStatement stmt = con.prepareStatement(query + parameterBuilder);\r\n                \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                        stmt.setString(2, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"GRT\")){\r\n                        stmt.setString(1, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"TPFIN\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                    }else{\r\n                        stmt.setString(1, \"\");\r\n                    }\r\n                    \r\n                    rs = stmt.executeQuery();\r\n                    \r\n                    while(rs.next()){\r\n                        subtipo_value = rs.getString(1);\r\n                        subtipo_label = rs.getString(2);\r\n                        \r\n                        FormRow option = new FormRow();\r\n                        option.setProperty(FormUtil.PROPERTY_VALUE, subtipo_value);\r\n                        option.setProperty(FormUtil.PROPERTY_LABEL, subtipo_label);\r\n                        rows.add(option);\r\n                        \r\n                    }\r\n                }\r\n                \r\n        }catch(Exception e){\r\n            LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error getting info from DB\");\r\n        }finally{\r\n            try{\r\n                if(rs != null){\r\n                rs.close();\r\n                }\r\n                if(stmt != null){\r\n                    stmt.close();\r\n                }\r\n                if(con != null && !con.isClosed()) {\r\n                    con.close();\r\n                }\r\n            }catch(Exception e){\r\n                LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error closing DB connection\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    return rows;\r\n}\r\n \r\n//call load method with injected variable\r\nreturn load(values);",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "width": "40%",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "processo1",
                "join": "",
                "label": "Seleção de Tipos de Processo",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "tipo_processo_1_1",
                        "label": "Tipo de Processo 1",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "tipo1",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "tipo_processo_1",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "subtipo_processo_1_1",
                        "label": "Subtipo de Processo 1",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "subtipo1",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "subtipo_processo_1",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "base_processo_2",
                            "label": "Base de processo 2",
                            "multiple": "",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "",
                                    "value": ""
                                },
                                {
                                    "grouping": "",
                                    "label": "Processo",
                                    "value": "PROC"
                                },
                                {
                                    "grouping": "",
                                    "label": "Garantia",
                                    "value": "GRT"
                                },
                                {
                                    "grouping": "",
                                    "label": "Tipo de Empréstimo",
                                    "value": "TPFIN"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CheckBox",
                        "properties": {
                            "controlField": "",
                            "id": "formalizacao_2",
                            "label": "Com Formalização",
                            "options": [{
                                "grouping": "",
                                "label": "",
                                "value": "SIM"
                            }],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "base_processo_2",
                            "id": "tipo_processo_2",
                            "label": "Tipo de Processo 2",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "(c_nome_campo = 'tipo_processo' OR c_nome_campo = 'tipo_financiamento'  OR  c_nome_campo = 'garantia') AND e.customProperties.servico LIKE '%HIP%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "grouping",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.plugin.enterprise.MultiSelectBox",
                        "properties": {
                            "controlField": "base_processo_2",
                            "id": "subtipo_processo_2",
                            "label": "Subtipo Processo 2",
                            "multiple": "true",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.BeanShellFormBinder",
                                "properties": {
                                    "cacheInterval": "",
                                    "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.commons.util.LogUtil;\r\nimport java.sql.Array;\r\n\r\n \r\npublic FormRowSet load(String[] values) {\r\n    \r\n    FormRowSet rows = new FormRowSet();\r\n    \r\n    FormRow option = new FormRow();\r\n    option.setProperty(FormUtil.PROPERTY_VALUE, \"\");\r\n    option.setProperty(FormUtil.PROPERTY_LABEL, \"\");\r\n    rows.add(option);\r\n    \r\n    String banco = null;\r\n    if (values != null && values.length > 0) {\r\n        base_processo = values[0];\r\n        //LogUtil.info(\"HIP - subtipo\", \"base: \" + base_processo);\r\n    \r\n        Connection con = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet rs = null;\r\n        String subtipo_value = \"\";\r\n        String subtipo_label = \"\";\r\n        \r\n        AppDefinition appDef = AppUtil.getCurrentAppDefinition();\r\n        \r\n        try{\r\n                DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\"setupDataSource\");\r\n                con = ds.getConnection();\r\n                \r\n                if(!con.isClosed()){\r\n                    //Verificar o utilizador atribuido e atualizar caso esteja errado\r\n                    String query=\"SELECT c_value, c_label FROM app_fd_listas_de_valores WHERE c_nome_campo LIKE ?\";\r\n                    stmt = con.prepareStatement(query);\r\n                    \r\n                    StringBuilder parameterBuilder = new StringBuilder();\r\n                    \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        parameterBuilder.append(\" OR c_nome_campo LIKE ?\");\r\n                    }\r\n                \r\n                    //Here you can query from one or multiple tables using JOIN etc\r\n                    PreparedStatement stmt = con.prepareStatement(query + parameterBuilder);\r\n                \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                        stmt.setString(2, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"GRT\")){\r\n                        stmt.setString(1, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"TPFIN\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                    }else{\r\n                        stmt.setString(1, \"\");\r\n                    }\r\n                    \r\n                    rs = stmt.executeQuery();\r\n                    \r\n                    while(rs.next()){\r\n                        subtipo_value = rs.getString(1);\r\n                        subtipo_label = rs.getString(2);\r\n                        \r\n                        FormRow option = new FormRow();\r\n                        option.setProperty(FormUtil.PROPERTY_VALUE, subtipo_value);\r\n                        option.setProperty(FormUtil.PROPERTY_LABEL, subtipo_label);\r\n                        rows.add(option);\r\n                        \r\n                    }\r\n                }\r\n                \r\n        }catch(Exception e){\r\n            LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error getting info from DB\");\r\n        }finally{\r\n            try{\r\n                if(rs != null){\r\n                rs.close();\r\n                }\r\n                if(stmt != null){\r\n                    stmt.close();\r\n                }\r\n                if(con != null && !con.isClosed()) {\r\n                    con.close();\r\n                }\r\n            }catch(Exception e){\r\n                LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error closing DB connection\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    return rows;\r\n}\r\n \r\n//call load method with injected variable\r\nreturn load(values);",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "width": "40%",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "processo2",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "tipo_processo_2_2",
                        "label": "Tipo de Processo 2",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "tipo2",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "tipo_processo_2",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "subtipo_processo_2_2",
                        "label": "Subtipo de Processo 2",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "subtipo2",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "subtipo_processo_2",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "base_processo_3",
                            "label": "Base de processo 3",
                            "multiple": "",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "",
                                    "value": ""
                                },
                                {
                                    "grouping": "",
                                    "label": "Processo",
                                    "value": "PROC"
                                },
                                {
                                    "grouping": "",
                                    "label": "Garantia",
                                    "value": "GRT"
                                },
                                {
                                    "grouping": "",
                                    "label": "Tipo de Financiamento",
                                    "value": "TPFIN"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CheckBox",
                        "properties": {
                            "controlField": "",
                            "id": "formalizacao_3",
                            "label": "Com Formalização",
                            "options": [{
                                "grouping": "",
                                "label": "",
                                "value": "SIM"
                            }],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "base_processo_3",
                            "id": "tipo_processo_3",
                            "label": "Tipo de Processo 3",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "(c_nome_campo = 'tipo_processo' OR c_nome_campo = 'tipo_financiamento'  OR  c_nome_campo = 'garantia') AND e.customProperties.servico LIKE '%HIP%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "grouping",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.plugin.enterprise.MultiSelectBox",
                        "properties": {
                            "controlField": "base_processo_3",
                            "id": "subtipo_processo_3",
                            "label": "Subtipo Processo 3",
                            "multiple": "true",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.BeanShellFormBinder",
                                "properties": {
                                    "cacheInterval": "",
                                    "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.commons.util.LogUtil;\r\nimport java.sql.Array;\r\n\r\n \r\npublic FormRowSet load(String[] values) {\r\n    \r\n    FormRowSet rows = new FormRowSet();\r\n    \r\n    FormRow option = new FormRow();\r\n    option.setProperty(FormUtil.PROPERTY_VALUE, \"\");\r\n    option.setProperty(FormUtil.PROPERTY_LABEL, \"\");\r\n    rows.add(option);\r\n    \r\n    String banco = null;\r\n    if (values != null && values.length > 0) {\r\n        base_processo = values[0];\r\n        //LogUtil.info(\"HIP - subtipo\", \"base: \" + base_processo);\r\n    \r\n        Connection con = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet rs = null;\r\n        String subtipo_value = \"\";\r\n        String subtipo_label = \"\";\r\n        \r\n        AppDefinition appDef = AppUtil.getCurrentAppDefinition();\r\n        \r\n        try{\r\n                DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\"setupDataSource\");\r\n                con = ds.getConnection();\r\n                \r\n                if(!con.isClosed()){\r\n                    //Verificar o utilizador atribuido e atualizar caso esteja errado\r\n                    String query=\"SELECT c_value, c_label FROM app_fd_listas_de_valores WHERE c_nome_campo LIKE ?\";\r\n                    stmt = con.prepareStatement(query);\r\n                    \r\n                    StringBuilder parameterBuilder = new StringBuilder();\r\n                    \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        parameterBuilder.append(\" OR c_nome_campo LIKE ?\");\r\n                    }\r\n                \r\n                    //Here you can query from one or multiple tables using JOIN etc\r\n                    PreparedStatement stmt = con.prepareStatement(query + parameterBuilder);\r\n                \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                        stmt.setString(2, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"GRT\")){\r\n                        stmt.setString(1, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"TPFIN\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                    }else{\r\n                        stmt.setString(1, \"\");\r\n                    }\r\n                    \r\n                    rs = stmt.executeQuery();\r\n                    \r\n                    while(rs.next()){\r\n                        subtipo_value = rs.getString(1);\r\n                        subtipo_label = rs.getString(2);\r\n                        \r\n                        FormRow option = new FormRow();\r\n                        option.setProperty(FormUtil.PROPERTY_VALUE, subtipo_value);\r\n                        option.setProperty(FormUtil.PROPERTY_LABEL, subtipo_label);\r\n                        rows.add(option);\r\n                        \r\n                    }\r\n                }\r\n                \r\n        }catch(Exception e){\r\n            LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error getting info from DB\");\r\n        }finally{\r\n            try{\r\n                if(rs != null){\r\n                rs.close();\r\n                }\r\n                if(stmt != null){\r\n                    stmt.close();\r\n                }\r\n                if(con != null && !con.isClosed()) {\r\n                    con.close();\r\n                }\r\n            }catch(Exception e){\r\n                LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error closing DB connection\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    return rows;\r\n}\r\n \r\n//call load method with injected variable\r\nreturn load(values);",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "width": "40%",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "processo3",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "tipo_processo_3_3",
                        "label": "Tipo de Processo 3",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "tipo3",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "tipo_processo_3",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "subtipo_processo_3_3",
                        "label": "Subtipo de Processo 3",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "subtipo3",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "subtipo_processo_3",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "base_processo_4",
                            "label": "Base de processo 4",
                            "multiple": "",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "",
                                    "value": ""
                                },
                                {
                                    "grouping": "",
                                    "label": "Processo",
                                    "value": "PROC"
                                },
                                {
                                    "grouping": "",
                                    "label": "Garantia",
                                    "value": "GRT"
                                },
                                {
                                    "grouping": "",
                                    "label": "Tipo de Financiamento",
                                    "value": "TPFIN"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CheckBox",
                        "properties": {
                            "controlField": "",
                            "id": "formalizacao_4",
                            "label": "Com Formalização",
                            "options": [{
                                "grouping": "",
                                "label": "",
                                "value": "SIM"
                            }],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "base_processo_4",
                            "id": "tipo_processo_4",
                            "label": "Tipo de Processo 4",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "(c_nome_campo = 'tipo_processo' OR c_nome_campo = 'tipo_financiamento'  OR  c_nome_campo = 'garantia') AND e.customProperties.servico LIKE '%HIP%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "grouping",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.plugin.enterprise.MultiSelectBox",
                        "properties": {
                            "controlField": "base_processo_4",
                            "id": "subtipo_processo_4",
                            "label": "Subtipo Processo 4",
                            "multiple": "true",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.BeanShellFormBinder",
                                "properties": {
                                    "cacheInterval": "",
                                    "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.commons.util.LogUtil;\r\nimport java.sql.Array;\r\n\r\n \r\npublic FormRowSet load(String[] values) {\r\n    \r\n    FormRowSet rows = new FormRowSet();\r\n    \r\n    FormRow option = new FormRow();\r\n    option.setProperty(FormUtil.PROPERTY_VALUE, \"\");\r\n    option.setProperty(FormUtil.PROPERTY_LABEL, \"\");\r\n    rows.add(option);\r\n    \r\n    String banco = null;\r\n    if (values != null && values.length > 0) {\r\n        base_processo = values[0];\r\n        //LogUtil.info(\"HIP - subtipo\", \"base: \" + base_processo);\r\n    \r\n        Connection con = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet rs = null;\r\n        String subtipo_value = \"\";\r\n        String subtipo_label = \"\";\r\n        \r\n        AppDefinition appDef = AppUtil.getCurrentAppDefinition();\r\n        \r\n        try{\r\n                DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\"setupDataSource\");\r\n                con = ds.getConnection();\r\n                \r\n                if(!con.isClosed()){\r\n                    //Verificar o utilizador atribuido e atualizar caso esteja errado\r\n                    String query=\"SELECT c_value, c_label FROM app_fd_listas_de_valores WHERE c_nome_campo LIKE ?\";\r\n                    stmt = con.prepareStatement(query);\r\n                    \r\n                    StringBuilder parameterBuilder = new StringBuilder();\r\n                    \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        parameterBuilder.append(\" OR c_nome_campo LIKE ?\");\r\n                    }\r\n                \r\n                    //Here you can query from one or multiple tables using JOIN etc\r\n                    PreparedStatement stmt = con.prepareStatement(query + parameterBuilder);\r\n                \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                        stmt.setString(2, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"GRT\")){\r\n                        stmt.setString(1, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"TPFIN\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                    }else{\r\n                        stmt.setString(1, \"\");\r\n                    }\r\n                    \r\n                    rs = stmt.executeQuery();\r\n                    \r\n                    while(rs.next()){\r\n                        subtipo_value = rs.getString(1);\r\n                        subtipo_label = rs.getString(2);\r\n                        \r\n                        FormRow option = new FormRow();\r\n                        option.setProperty(FormUtil.PROPERTY_VALUE, subtipo_value);\r\n                        option.setProperty(FormUtil.PROPERTY_LABEL, subtipo_label);\r\n                        rows.add(option);\r\n                        \r\n                    }\r\n                }\r\n                \r\n        }catch(Exception e){\r\n            LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error getting info from DB\");\r\n        }finally{\r\n            try{\r\n                if(rs != null){\r\n                rs.close();\r\n                }\r\n                if(stmt != null){\r\n                    stmt.close();\r\n                }\r\n                if(con != null && !con.isClosed()) {\r\n                    con.close();\r\n                }\r\n            }catch(Exception e){\r\n                LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error closing DB connection\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    return rows;\r\n}\r\n \r\n//call load method with injected variable\r\nreturn load(values);",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "width": "40%",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "processo4",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "tipo_processo_4_4",
                        "label": "Tipo de Processo 4",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "tipo4",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "tipo_processo_4",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "subtipo_processo_4_4",
                        "label": "Subtipo de Processo 4",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "subtipo4",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "subtipo_processo_4",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "base_processo_5",
                            "label": "Base de processo 5",
                            "multiple": "",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "",
                                    "value": ""
                                },
                                {
                                    "grouping": "",
                                    "label": "Processo",
                                    "value": "PROC"
                                },
                                {
                                    "grouping": "",
                                    "label": "Garantia",
                                    "value": "GRT"
                                },
                                {
                                    "grouping": "",
                                    "label": "Tipo de Financiamento",
                                    "value": "TPFIN"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CheckBox",
                        "properties": {
                            "controlField": "",
                            "id": "formalizacao_5",
                            "label": "Com Formalização",
                            "options": [{
                                "grouping": "",
                                "label": "",
                                "value": "SIM"
                            }],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "base_processo_5",
                            "id": "tipo_processo_5",
                            "label": "Tipo de Processo 5",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "(c_nome_campo = 'tipo_processo' OR c_nome_campo = 'tipo_financiamento'  OR  c_nome_campo = 'garantia') AND e.customProperties.servico LIKE '%HIP%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "grouping",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.plugin.enterprise.MultiSelectBox",
                        "properties": {
                            "controlField": "base_processo_5",
                            "id": "subtipo_processo_5",
                            "label": "Subtipo Processo 5",
                            "multiple": "true",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.BeanShellFormBinder",
                                "properties": {
                                    "cacheInterval": "",
                                    "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.commons.util.LogUtil;\r\nimport java.sql.Array;\r\n\r\n \r\npublic FormRowSet load(String[] values) {\r\n    \r\n    FormRowSet rows = new FormRowSet();\r\n    \r\n    FormRow option = new FormRow();\r\n    option.setProperty(FormUtil.PROPERTY_VALUE, \"\");\r\n    option.setProperty(FormUtil.PROPERTY_LABEL, \"\");\r\n    rows.add(option);\r\n    \r\n    String banco = null;\r\n    if (values != null && values.length > 0) {\r\n        base_processo = values[0];\r\n        //LogUtil.info(\"HIP - subtipo\", \"base: \" + base_processo);\r\n    \r\n        Connection con = null;\r\n        PreparedStatement stmt = null;\r\n        ResultSet rs = null;\r\n        String subtipo_value = \"\";\r\n        String subtipo_label = \"\";\r\n        \r\n        AppDefinition appDef = AppUtil.getCurrentAppDefinition();\r\n        \r\n        try{\r\n                DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\"setupDataSource\");\r\n                con = ds.getConnection();\r\n                \r\n                if(!con.isClosed()){\r\n                    //Verificar o utilizador atribuido e atualizar caso esteja errado\r\n                    String query=\"SELECT c_value, c_label FROM app_fd_listas_de_valores WHERE c_nome_campo LIKE ?\";\r\n                    stmt = con.prepareStatement(query);\r\n                    \r\n                    StringBuilder parameterBuilder = new StringBuilder();\r\n                    \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        parameterBuilder.append(\" OR c_nome_campo LIKE ?\");\r\n                    }\r\n                \r\n                    //Here you can query from one or multiple tables using JOIN etc\r\n                    PreparedStatement stmt = con.prepareStatement(query + parameterBuilder);\r\n                \r\n                    if(base_processo.equals(\"PROC\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                        stmt.setString(2, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"GRT\")){\r\n                        stmt.setString(1, \"tipo_financiamento\");\r\n                    }else if(base_processo.equals(\"TPFIN\")){\r\n                        stmt.setString(1, \"garantia\");\r\n                    }else{\r\n                        stmt.setString(1, \"\");\r\n                    }\r\n                    \r\n                    rs = stmt.executeQuery();\r\n                    \r\n                    while(rs.next()){\r\n                        subtipo_value = rs.getString(1);\r\n                        subtipo_label = rs.getString(2);\r\n                        \r\n                        FormRow option = new FormRow();\r\n                        option.setProperty(FormUtil.PROPERTY_VALUE, subtipo_value);\r\n                        option.setProperty(FormUtil.PROPERTY_LABEL, subtipo_label);\r\n                        rows.add(option);\r\n                        \r\n                    }\r\n                }\r\n                \r\n        }catch(Exception e){\r\n            LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error getting info from DB\");\r\n        }finally{\r\n            try{\r\n                if(rs != null){\r\n                rs.close();\r\n                }\r\n                if(stmt != null){\r\n                    stmt.close();\r\n                }\r\n                if(con != null && !con.isClosed()) {\r\n                    con.close();\r\n                }\r\n            }catch(Exception e){\r\n                LogUtil.error(\"HIPOTECAS - Detalhe de processo - Subtipo de processo\", e, \"Error closing DB connection\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    return rows;\r\n}\r\n \r\n//call load method with injected variable\r\nreturn load(values);",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "width": "40%",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "processo5",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "tipo_processo_5_5",
                        "label": "Tipo de Processo 5",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "tipo5",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "tipo_processo_5",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "encryption": "",
                        "id": "subtipo_processo_5_5",
                        "label": "Subtipo de Processo 5",
                        "maxlength": "",
                        "permission_rules": {
                            "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                            "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                            "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                            "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                            "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                            "fbc09061-73a6-91de-da01-2deccebeee64": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "size": "",
                        "storeNumeric": "",
                        "style": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "subtipo5",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "subtipo_processo_5",
                "visibilityValue": "OUT"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "tipo_processo_final",
                            "label": "Tipo de Processo",
                            "maxlength": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                }
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "tipo_processo",
                            "permission_rules": {
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "contem_cv",
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "logica_contem_cv_filtro",
                            "label": "",
                            "value": "<script>\n    $(document).change(function(){\n        var tipo_processo_hip = $(\"input[id$=tipo_processo_final]\").val();\n        if (tipo_processo_hip.includes(\"CV\")){\n             $(\"input[id$=contem_cv]\").val(\"CV\");\n        }else{\n             $(\"input[id$=contem_cv]\").val(\"SCV\");\n        }\n        \n      \n    });\n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "concatenar_tipo_processo",
                            "label": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "fbc09061-73a6-91de-da01-2deccebeee64": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                }
                            },
                            "value": "<script>\n    $(document).change(function(){\n        \n       /*Variáveis*/\n       \n        //variável de concatenação para tipo de processos total\n        var tipo_processo_total = '';\n        var tipo_processo_total_value = '';\n        var atual;\n        var atual_v;\n        \n        //get tipo de processo 1 \n        var tipo_processo_1 = $(\"select[name$=_tipo_processo_1] option:selected\").text();\n        var tipo_processo_1_value = $(\"select[name$=_tipo_processo_1] option:selected\").val();\n        var tipo_processo_1_1 =  $(\"input[name$=_tipo_processo_1_1]\").val();\n        var aux_tipo_processo = $(\"[id*= HIPDetalheProcesso_base_processo_1]\").val();\n        var aux_tipo_processo_1 = $(\"[id*= HIPDetalheProcesso_tipo_processo_1]\").val();\n        var subtipo_processo_1_1 =  $(\"input[name$=_subtipo_processo_1_1]\").val();\n        var subtipos_processo_1 = []; \n        var subtipos_processo_1_value = [];\n        var subtipos_1 =  $('div[id$=HIPDetalheProcesso_subtipo_processo_1_chosen] ul li.search-choice');\n\n        \n        //get tipo de processo 2\n        var tipo_processo_2 = $(\"select[name$=_tipo_processo_2] option:selected\").text();\n        var tipo_processo_2_value = $(\"select[name$=_tipo_processo_2] option:selected\").val();\n        var tipo_processo_2_2 =  $(\"input[name$=_tipo_processo_2_2]\").val();\n        var aux_tipo_processo_2 = $(\"[id*= HIPDetalheProcesso_tipo_processo_2]\").val();\n        var subtipo_processo_2_2 =  $(\"input[name$=_subtipo_processo_2_2]\").val();\n        var subtipos_processo_2 = []; \n        var subtipos_2 =  $('div[id$=HIPDetalheProcesso_subtipo_processo_2_chosen] ul li.search-choice');\n        \n        //get tipo de processo 3\n        var tipo_processo_3 = $(\"select[name$=_tipo_processo_3] option:selected\").text();\n        var tipo_processo_3_value = $(\"select[name$=_tipo_processo_3] option:selected\").val();\n        var tipo_processo_3_3 =  $(\"input[name$=_tipo_processo_3_3]\").val();\n        var aux_tipo_processo_3 = $(\"[id*= HIPDetalheProcesso_tipo_processo_3]\").val();\n        var subtipo_processo_3_3 =  $(\"input[name$=_subtipo_processo_3_3]\").val();\n        var subtipos_processo_3 = []; \n        var subtipos_3 =  $('div[id$=HIPDetalheProcesso_subtipo_processo_3_chosen] ul li.search-choice');\n        \n        //get tipo de processo 4\n        var tipo_processo_4 = $(\"select[name$=_tipo_processo_4] option:selected\").text();\n        var tipo_processo_4_value = $(\"select[name$=_tipo_processo_4] option:selected\").val();\n        var tipo_processo_4_4 =  $(\"input[name$=_tipo_processo_4_4]\").val();\n        var aux_tipo_processo_4 = $(\"[id*= HIPDetalheProcesso_tipo_processo_4]\").val();\n        var subtipo_processo_4_4 =  $(\"input[name$=_subtipo_processo_4_4]\").val();\n        var  subtipos_processo_4 = []; \n        var subtipos_4 =  $('div[id$=HIPDetalheProcesso_subtipo_processo_4_chosen] ul li.search-choice');\n        \n        //get tipo de processo 5\n        var tipo_processo_5 = $(\"select[name$=_tipo_processo_5] option:selected\").text();\n        var tipo_processo_5_value =  $(\"select[name$=_tipo_processo_5] option:selected\").val();\n        var tipo_processo_5_5 =  $(\"input[name$=_tipo_processo_5_5]\").val();\n        var aux_tipo_processo_5 = $(\"[id*= HIPDetalheProcesso_tipo_processo_5]\").val();\n        var subtipo_processo_5_5 =  $(\"input[name$=_subtipo_processo_5_5]\").val();\n        var  subtipos_processo_5 = []; \n        var subtipos_5 =  $('div[id$=HIPDetalheProcesso_subtipo_processo_5_chosen] ul li.search-choice');\n        \n        //processo 1\n        \n        //push dos subtipos de processos para um vetor\n            subtipos_1.each(function(){\n                 subtipos_processo_1.push($(this).text());\n                 \n            });\n            \n        //Se o processo 1 não existir ou tiver não definido, esconder o processo 2 e por os valores a zero. Senão, se for \"Outro\" adicionar tipo, senão escolher um.\n        if (aux_tipo_processo === '' || aux_tipo_processo == undefined){\n            $(\"div[id$= HIPDetalheProcesso_processo2]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_tipo2]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_subtipo2]\").hide();\n            $(\"select[name $= HIPDetalheProcesso_base_processo_2]\").val('');\n            $(\"select[name $= HIPDetalheProcesso_tipo_processo_2]\").val('');\n            $(\"input[name$=_tipo_processo_2_2]\").val('');\n            $(\"input[name$=_subtipo_processo_2_2]\").val('');\n            $(\"input[name$=_tipo_processo_1_1]\").val('');\n            $(\"input[name$=_subtipo_processo_1_1]\").val('');\n            subtipos_2.remove();\n            $(\"select[id$= HIPDetalheProcesso_subtipo_processo_2] option:selected\").prop(\"selected\", false); \n            $(\"input[name$=_formalizacao_2]\").prop('checked', false);\n            \n        }else{\n            $(\"div[id$= HIPDetalheProcesso_processo2]\").show();\n            if( aux_tipo_processo_1 === \"OUT\"){\n                atual = tipo_processo_1_1;\n            }\n            else{\n                atual = tipo_processo_1;\n                atual_v = tipo_processo_1_value;\n            }\n            tipo_processo_total += atual;\n            tipo_processo_total_value += atual_v;\n                if (subtipos_processo_1 != undefined && subtipos_processo_1.length > 0){\n                    for (let i = 0; i < subtipos_processo_1.length; i++) {\n                        if(subtipos_processo_1[i] === \"Outro\"){\n                            subtipos_processo_1.splice(i, 1, subtipo_processo_1_1);\n                        }\n                        \n                        if(i == 0){\n                            tipo_processo_total += \" com \" + subtipos_processo_1[i];\n                        }else if(i < subtipos_processo_1.length-1){\n                            tipo_processo_total += \", \" + subtipos_processo_1[i];\n                        }else{\n                            tipo_processo_total += \" e \" + subtipos_processo_1[i];\n                        }\n                     //  tipo_processo_total_value += $(\"select[id*=subtipo_processo_1] option:contains(\"+subtipos_processo_1[i]+\")\").val();\n                    }\n                }\n            \n        }\n        \n        \n        //processo 2\n        \n        //push dos subtipos de processos para um vetor\n       \n                   subtipos_2.each(function(){\n                subtipos_processo_2.push($(this).text());\n            });\n            \n        \n        /*Terceira Dropbox - Esconder se a segunda não estiver preenchida - bloquear a primeira se a segunda estiver preenchida*/\n        var aux_tipo_processo = $(\"[id*= HIPDetalheProcesso_base_processo_2]\").val();\n        if (aux_tipo_processo === '' || aux_tipo_processo == undefined){\n            $(\"div[id$= HIPDetalheProcesso_processo3]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_tipo3]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_subtipo3]\").hide();\n            $(\"select[name $= HIPDetalheProcesso_base_processo_3]\").val('');\n            $(\"select[name $= HIPDetalheProcesso_tipo_processo_3]\").val('');\n            $(\"input[name$=_tipo_processo_3_3]\").val('');\n            $(\"input[name$=_subtipo_processo_3_3]\").val('');\n            subtipos_3.remove();\n            $(\"select[id$= HIPDetalheProcesso_subtipo_processo_3] option:selected\").prop(\"selected\", false); \n            $(\"input[name$=_formalizacao_3]\").prop('checked', false);\n        }else{\n            $(\"div[id$= HIPDetalheProcesso_processo3]\").show();\n                if(aux_tipo_processo_2 === \"OUT\"){\n                    atual = tipo_processo_2_2;\n                }\n                else{\n                    atual = tipo_processo_2;\n                    atual_v = tipo_processo_2_value;\n                }\n            if( $(\"input[name$=_formalizacao_2]\").is(\":checked\") === true)\n            {\n                tipo_processo_total += \" + \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n            } \n            else{\n                tipo_processo_total += \" e \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n            }\n            if (subtipos_processo_2 != undefined && subtipos_processo_2.length > 0 ){\n                for (let i = 0; i < subtipos_processo_2.length; i++) {\n                    if(subtipos_processo_2[i] === \"Outro\"){\n                        subtipos_processo_2.splice(i, 1, subtipo_processo_2_2);\n                    }\n                    if(i == 0){\n                        tipo_processo_total += \" com \" + subtipos_processo_2[i];\n                    }else if(i < subtipos_processo_2.length-1){\n                        tipo_processo_total += \", \" + subtipos_processo_2[i];\n                    }else{\n                        tipo_processo_total += \" e \" + subtipos_processo_2[i];\n                    }\n              //  tipo_processo_total_value += $(\"select[id*=subtipo_processo_2] option:contains(\"+subtipos_processo_2[i]+\")\").val();     \n                }\n                    \n            }\n        }\n        \n        \n        //procesoo 3\n        \n        //push dos subtipos de processos para um vetor\n           subtipos_3.each(function(){\n                 subtipos_processo_3.push($(this).text());\n            });\n        \n        /*Quarta Dropbox - Esconder se a terceira não estiver preenchida - bloquear a segunda se a terceira estiver preenchida*/\n        var aux_tipo_processo = $(\"[id*= HIPDetalheProcesso_base_processo_3]\").val();\n        if (aux_tipo_processo === '' || aux_tipo_processo == undefined){\n            $(\"div[id$= HIPDetalheProcesso_processo4]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_tipo4]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_subtipo4]\").hide();\n            $(\"select[name $= HIPDetalheProcesso_base_processo_4]\").val('');\n            $(\"select[name $= HIPDetalheProcesso_tipo_processo_4]\").val('');\n            $(\"div[id *= HIPDetalheProcesso_subtipo_processo_4]\").val('');\n            $(\"input[name$=_subtipo_processo_4_4]\").val('');\n            subtipos_4.remove();\n            $(\"select[id$= HIPDetalheProcesso_subtipo_processo_4] option:selected\").prop(\"selected\", false); \n            $(\"input[name$=_formalizacao_4]\").prop('checked', false);\n        }else{\n            $(\"div[id$= HIPDetalheProcesso_processo4]\").show();\n                if(aux_tipo_processo_3 === \"OUT\"){\n                    atual = tipo_processo_3_3;\n                }\n                else{\n                    atual = tipo_processo_3;\n                    atual_v = tipo_processo_3_value;\n                    \n                }\n            if( $(\"input[name$=_formalizacao_3]\").is(\":checked\") === true)\n            {\n                tipo_processo_total += \" + \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n            } \n            else{\n                tipo_processo_total += \" e \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n\n            }\n            if (subtipos_processo_3 != undefined && subtipos_processo_3.length > 0 ){\n                for (let i = 0; i < subtipos_processo_3.length; i++) {\n                    if(subtipos_processo_3[i] === \"Outro\"){\n                        subtipos_processo_3.splice(i, 1, subtipo_processo_3_3);\n                    }\n                    if(i == 0){\n                        tipo_processo_total += \" com \" + subtipos_processo_3[i];\n                    }else if(i < subtipos_processo_3.length-1){\n                        tipo_processo_total += \", \" + subtipos_processo_3[i];\n                    }else{\n                        tipo_processo_total += \" e \" + subtipos_processo_3[i];\n                    }\n                 // tipo_processo_total_value += $(\"select[id*=subtipo_processo_3] option:contains(\"+subtipos_processo_3[i]+\")\").val();       \n                }\n                    \n            } \n            \n            \n        }\n        \n        //procesoo 4\n        \n        //push dos subtipos de processos para um vetor\n           subtipos_4.each(function(){\n                 subtipos_processo_4.push($(this).text());\n            });\n        /*Quinta Dropbox - Esconder se a quarta não estiver preenchida - bloquear a terceira se a terceira estiver preenchida*/\n        var aux_tipo_processo = $(\"[id*= HIPDetalheProcesso_base_processo_4]\").val();\n        var aux_tipo_processo = $(\"[id*=_HIPDetalheProcesso_base_processo_4]\").val();\n        if (aux_tipo_processo === '' || aux_tipo_processo == undefined){\n            $(\"div[id$= HIPDetalheProcesso_processo5]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_tipo5]\").hide();\n            $(\"div[id$= HIPDetalheProcesso_subtipo5]\").hide();\n            $(\"select[name $= HIPDetalheProcesso_base_processo_5]\").val('');\n            $(\"select[name $= HIPDetalheProcesso_tipo_processo_5]\").val('');\n            $(\"input[name$=_subtipo_processo_5_5]\").val('');\n            subtipos_5.remove();\n            $(\"select[id$= HIPDetalheProcesso_subtipo_processo_5] option:selected\").prop(\"selected\", false); \n            $(\"input[name$=_formalizacao_5]\").prop('checked', false);\n           \n        }else{\n            $(\"div[id$= HIPDetalheProcesso_processo5]\").show();\n                if(aux_tipo_processo_4 === \"OUT\"){\n                    atual = tipo_processo_4_4;\n                }\n                else{\n                    atual = tipo_processo_4;\n                    atual_v = tipo_processo_4_value;\n                }\n            if( $(\"input[name$=_formalizacao_4]\").is(\":checked\") === true)\n            {\n                tipo_processo_total += \" + \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n            } \n            else{\n                tipo_processo_total += \" e \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n            }\n            if (subtipos_processo_4 != undefined && subtipos_processo_4.length > 0 ){\n                for (let i = 0; i < subtipos_processo_4.length; i++) {\n                    if(subtipos_processo_4[i] === \"Outro\"){\n                        subtipos_processo_4.splice(i, 1, subtipo_processo_4_4);\n                    }\n                    if(i == 0){\n                        tipo_processo_total += \" com \" + subtipos_processo_4[i];\n                    }else if(i < subtipos_processo_4.length-1){\n                        tipo_processo_total += \", \" + subtipos_processo_4[i];\n                    }else{\n                        tipo_processo_total += \" e \" + subtipos_processo_4[i];\n                    }\n                // tipo_processo_total_value += $(\"select[id*=subtipo_processo_4] option:contains(\"+subtipos_processo_4[i]+\")\").val();    \n                }\n                    \n            } \n        \n        }\n        \n        //procesoo 5\n        \n        //push dos subtipos de processos para um vetor\n            subtipos_5.each(function(){\n                 subtipos_processo_5.push($(this).text());\n            });\n        /*Bloquear a quarta quando a quinta está preenchida*/\n        var aux_tipo_processo = $(\"[id*= HIPDetalheProcesso_base_processo_5]\").val();\n        if (aux_tipo_processo === '' || aux_tipo_processo == undefined){\n        }else{\n                if(aux_tipo_processo_5 === \"OUT\"){\n                    atual =  tipo_processo_5_5;\n                }\n                else{\n                    atual = tipo_processo_5;\n                    atual_v = tipo_processo_5_value;\n                }\n            if( $(\"input[name$=_formalizacao_5]\").is(\":checked\") === true)\n            {\n                tipo_processo_total += \" + \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n            } \n            else{\n                tipo_processo_total += \" e \" + atual;\n                tipo_processo_total_value += \" + \" + atual_v;\n            }\n            if (subtipos_processo_5 != undefined && subtipos_processo_5.length > 0 ){\n                for (let i = 0; i < subtipos_processo_5.length; i++) {\n                    if(subtipos_processo_5[i] === \"Outro\"){\n                        subtipos_processo_5.splice(i, 1, subtipo_processo_5_5);\n                    }\n                    if(i == 0){\n                        tipo_processo_total += \" com \" + subtipos_processo_5[i];\n                    }else if(i < subtipos_processo_4.length-1){\n                        tipo_processo_total += \", \" + subtipos_processo_5[i];\n                    }else{\n                        tipo_processo_total += \" e \" + subtipos_processo_5[i];\n                    }\n               // tipo_processo_total_value += $(\"select[id*=subtipo_processo_5] option:contains(\"+subtipos_processo_5[i]+\")\").val();     \n                }\n                    \n            } \n        }\n    \n    $(\"input[id$=tipo_processo_final]\").val(tipo_processo_total);\n    \n    $(\"input[id$=tipo_processo]\").val(tipo_processo_total_value);\n    \n    console.log(tipo_processo_total_value);\n\n    }).trigger(\"change\");\n\n         \n    $(window).load(function(){\n\n         var flag_validacao = '#variable.flag_validacao#';\n         \n        if(flag_validacao === '1' || flag_validacao.startsWith(\"#variable.flag_validacao\")){\n            $(\"form#processo :input\").change(function(){\n                $(\"input#flag_alteracoes\").attr(\"value\",\"SIM\");    \n            });\n        }\n    });\n    \n   \n<\/script>"
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section9",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {
                        "permissionHidden": "",
                        "readonly": ""
                    },
                    "fbc09061-73a6-91de-da01-2deccebeee64": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "tipo_processo_robot",
                            "label": "Tipo de Processo Robot",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "(c_nome_campo = 'tipo_processo_robot')  AND e.customProperties.servico LIKE '%LEA%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "tipo_processo_lea",
                            "label": "Tipo de processo",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'tipo_processo' AND e.customProperties.servico LIKE '%LEA%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "grouping",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "tipo_processo_final",
                            "permission_rules": {
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field65",
                            "label": "",
                            "permission_rules": {
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "value": "<script>\n    $(document).change(function() {\n        \n        $(\"input[id$=tipo_processo_final]\").val($(\"select[name$=_tipo_processo_lea] option:selected\").text());\n        \n    });\n<\/script>"
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "processoL",
                "join": "",
                "label": "Seleção de Tipos de Processo",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                    "fbc09061-73a6-91de-da01-2deccebeee64": {
                        "permissionHidden": "true",
                        "readonly": ""
                    }
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field36",
                            "label": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {},
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "value": "<div class=\"col text-start\">\r\n    <span class=\"material-symbols-rounded md-40\"> add_comment <\/span> \r\n\t<div class = \"subform-section-title\">\r\n\t\t<span>OBSERVAÇÕES GERAIS<\/span>\r\n\t<\/div> \r\n<\/div>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextArea",
                        "properties": {
                            "cols": "20",
                            "id": "observacoes",
                            "label": "",
                            "permissionHidden": "",
                            "permission_rules": {
                                "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                                "fbc09061-73a6-91de-da01-2deccebeee64": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "rows": "5",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section4_1",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b": {},
                    "9f700b46-bde2-cc69-98a7-c562c400ad6d": {
                        "permissionHidden": "",
                        "readonly": ""
                    },
                    "9fb8a08a-3747-1f8e-48ac-fff77f61d611": {},
                    "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0": {},
                    "d99f6924-2603-f73b-c066-ae7dad5babd3": {},
                    "fbc09061-73a6-91de-da01-2deccebeee64": {
                        "permissionHidden": "true",
                        "readonly": ""
                    }
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        }
    ],
    "properties": {
        "description": "",
        "id": "HIPDetalheProcesso",
        "loadBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "name": "HIP - Detalhe Processo",
        "noPermissionMessage": "",
        "permission": {
            "className": "",
            "properties": {}
        },
        "permission_rules": [
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": " String servico = \"#form.processos_hip.servico#\";\n \n if(servico.equals(\"LEA\")){\n     return true;\n }\n return false;\n "}
                },
                "permission_key": "d99f6924-2603-f73b-c066-ae7dad5babd3",
                "permission_name": "Leasing"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": " String servico = \"#form.processos_hip.servico#\";\n \n if(servico.equals(\"HIP\")){\n     return true;\n }\n return false;\n "}
                },
                "permission_key": "fbc09061-73a6-91de-da01-2deccebeee64",
                "permission_name": "Hipotecas"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.GroupPermission",
                    "properties": {
                        "allowedGroupIds": "Coordenador",
                        "orgId": "PL"
                    }
                },
                "permission_key": "aa6ccea8-6e7f-1433-8d14-32132e9bf1e0",
                "permission_name": "Coordenadores"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_FLT_GEN_COM_CRH;PL_INT_FLT_GEN_NOR_CRH",
                        "orgId": "PL"
                    }
                },
                "permission_key": "9f700b46-bde2-cc69-98a7-c562c400ad6d",
                "permission_name": "Filtro"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_PRD_GEN_COM_CRH;PL_INT_PRD_GEN_NOR_CRH;PL_INT_PRD_GEN_RPA_CRH",
                        "orgId": "PL"
                    }
                },
                "permission_key": "9fb8a08a-3747-1f8e-48ac-fff77f61d611",
                "permission_name": "Produção"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_VAL_BCP_COM_CRH;PL_INT_VAL_BCP_NOR_CRH;PL_INT_VAL_BNI_COM_CRH;PL_INT_VAL_BNI_NOR_CRH;PL_INT_VAL_BST_COM_CRH;PL_INT_VAL_BST_NOR_CRH;PL_INT_VAL_GEN_COM_CRH;PL_INT_VAL_GEN_NOR_CRH",
                        "orgId": "PL"
                    }
                },
                "permission_key": "6c9a9c6d-bd10-4f4a-0682-541bcbb1222b",
                "permission_name": "Validação"
            }
        ],
        "postProcessor": {
            "className": "",
            "properties": {}
        },
        "postProcessorRunOn": "create",
        "storeBinder": {
            "className": "org.joget.apps.form.lib.BeanShellFormBinder",
            "properties": {
                "autoHandleFiles": "",
                "autoHandleWorkflowVariable": "true",
                "cacheInterval": "",
                "script": "import org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.model.FormStoreBinder;\r\nimport org.joget.plugin.base.PluginManager;\r\nimport org.joget.commons.util.LogUtil;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\nimport org.joget.commons.util.UuidGenerator;\r\nimport java.time.LocalDate;\r\nimport org.joget.workflow.model.service.*;\r\n\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport java.time.LocalDateTime; \r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.DayOfWeek;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\n  \r\npublic FormRowSet store(Element element, FormRowSet rows, FormData formData) {\r\n    \r\n    try{\r\n       //check the rows is not empty before store it\r\n        if (rows != null && !rows.isEmpty()) {\r\n            //Get the submitted data\r\n            FormRow row = rows.get(0);\r\n            \r\n            //Reuse Workflow Form Binder to store data\r\n            PluginManager pluginManager = (PluginManager) AppUtil.getApplicationContext().getBean(\"pluginManager\");\r\n            FormStoreBinder binder = (FormStoreBinder) pluginManager.getPlugin(\"org.joget.apps.form.lib.WorkflowFormBinder\");\r\n            binder.store(element, rows, formData);\r\n        }\r\n        \r\n        String ProcessID = \"#process.processId#\";\r\n        String mainProcessId = rows.get(0).get(\"id_processo\");\r\n        String Urgencia = rows.get(0).get(\"urgencia\");\r\n        //String proximaoperativa = \"#variable.proxima_operativa#\";\r\n        //String operativaAnterior = \"#variable.operativa_anterior#\";\r\n        String EstadoContratacao = rows.get(0).get(\"estado_contratacao\");\r\n        \r\n        /** TODO \r\n         * ********************************** SLA ********************************\r\n         */\r\n        \r\n    }catch(Exception e){\r\n        LogUtil.error(\"HIPOTECAS - Detalhe de Processo\", e, \"Error getting info from DB\");\r\n    }\r\n   \r\n    return rows;\r\n}\r\n \r\n//call store method with injected variable\r\nreturn store(element, rows, formData);",
                "useAjax": ""
            }
        },
        "tableName": "detalhe_proce_hip"
    }
}